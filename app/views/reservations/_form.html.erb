<%= semantic_form_for @reservation do |form| %>
	<%= form.inputs do %>
		<%= form.input :user_id %>
		<%= form.input :number_of_participants %>
		<%= form.input :reservation_date, :as => :string, :input_html => { :id => "reservationDatePicker" }%>
		<%= form.input :courts, :as => :check_boxes, :include_blank => false, :collection => Court.all%>
		<%= form.input :start_time, :as => :select, :collection => @time_array.map{|t| t.strftime("%I:%M%p")}, :include_blank => false %>
		<%= form.input :end_time, :as => :select, :collection => @time_array.map{|t| t.strftime("%I:%M%p")}, :include_blank => false %>
	<% end %>
	
	<label>
  		<input type="checkbox" id="show_court_resevations_checkbox" title="Show Open and Reserved Court Times" onchange='showCourtReservations(this);'>
  			Show Open and Reserved Court Times for this Reservation Date
	</label>
	
	<%= form.actions do %>
		<%= form.action :submit, :as => :button %>
	<% end %>
	
	<div id="update_content" style="display:none;">		
		<%= render 'court_reservations_table' %>
	</div>
<% end %>

<script type="text/javascript">
	$(function() {
  		$('#reservationDatePicker').datepicker({ dateFormat: "yy-mm-dd" });
	});
	
	function showCourtReservations(cb){
		if(cb.checked)
		{
			$('#update_content').css('display','inline');
		}
		else
		{
			$('#update_content').css('display','none');
		}
	}
</script>